local map = {
    width = 16,
    height = 16,
    skybox = true,
    max_view_dist = 8,
    fog_colour = { 0.8, 0.5, 0.7 },
    -- Wall types:
    -- 0 normal cube wall
    -- 1 sw/ne facing diagonal
    -- 2 se/nw facing diagonal
    -- 3 n/s thin walls
    -- 4 e/w thin walls
    walls = { -- {texture, wall type, collision}
        { { 3, 0, true, 0 }, { 3, 0, true, 0 },  { 3, 0, true, 0 },  { 3, 0, true, 0 },  { 3, 0, true, 0 },  { 3, 0, true, 0 },  { 3, 0, true, 0 },  { 3, 0, true, 0 },  { 12, 0, true, 0 }, { 12, 0, true, 0 }, { 12, 0, true, 0 }, { 1, 0, true, 0 },  { 1, 0, true, 0 },  { 1, 0, true, 0 },  { 1, 0, true, 0 },  { 1, 0, true, 0 }, },
        { { 3, 0, true, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 3, 0, true, 0 },  { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 },  { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 }, },
        { { 3, 0, true, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 3, 0, true, 0 },  { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 },  { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 }, },
        { { 3, 0, true, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 3, 0, true, 0 },  { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 4, 4, true, 1 },  { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 }, },
        { { 3, 0, true, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 3, 0, true, 0 },  { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 },  { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 }, },
        { { 3, 0, true, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 3, 0, true, 0 },  { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 },  { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 }, },
        { { 3, 0, true, 0 }, { 3, 0, true, 0 },  { 3, 0, true, 0 },  { 9, 3, false, 0 }, { 3, 0, true, 0 },  { 3, 0, true, 0 },  { 3, 0, true, 0 },  { 3, 2, true, 0 },  { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 },  { 1, 0, true, 0 },  { 1, 0, true, 0 },  { 1, 0, true, 0 },  { 1, 0, true, 0 }, },
        { { 1, 0, true, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 }, },
        { { 1, 0, true, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 }, },
        { { 1, 0, true, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 2, true, 0 },  { 1, 0, true, 0 },  { 1, 1, true, 0 },  { 0, 0, false, 0 }, { 1, 0, true, 0 }, },
        { { 1, 0, true, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 },  { 0, 0, false, 0 }, { 1, 0, true, 0 },  { 0, 0, false, 0 }, { 1, 0, true, 0 }, },
        { { 2, 0, true, 0 }, { 2, 0, true, 0 },  { 2, 0, true, 0 },  { 6, 3, true, 1 },  { 2, 0, true, 0 },  { 2, 0, true, 0 },  { 2, 0, true, 0 },  { 2, 0, true, 0 },  { 2, 0, true, 0 },  { 2, 0, true, 0 },  { 0, 0, false, 0 }, { 1, 1, true, 0 },  { 1, 0, true, 0 },  { 1, 2, true, 0 },  { 0, 0, false, 0 }, { 1, 0, true, 0 }, },
        { { 2, 0, true, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 2, 0, true, 0 },  { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 }, },
        { { 2, 0, true, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 2, 0, true, 0 },  { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 }, },
        { { 2, 0, true, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 2, 0, true, 0 },  { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 0, 0, false, 0 }, { 1, 0, true, 0 }, },
        { { 2, 0, true, 0 }, { 2, 0, true, 0 },  { 2, 0, true, 0 },  { 2, 0, true, 0 },  { 2, 0, true, 0 },  { 2, 0, true, 0 },  { 2, 0, true, 0 },  { 2, 0, true, 0 },  { 2, 0, true, 0 },  { 2, 0, true, 0 },  { 1, 0, true, 0 },  { 1, 0, true, 0 },  { 1, 0, true, 0 },  { 1, 0, true, 0 },  { 1, 0, true, 0 },  { 1, 0, true, 0 }, }
    },

    floors = {
        { 0, 0,  0,  0,  0,  0,  0,  0,  0,  0, 0, 0, 0,  0,  0,  0, },
        { 0, 19, 19, 19, 19, 19, 19, 0,  3,  3, 3, 0, 20, 20, 20, 0, },
        { 0, 19, 19, 19, 19, 19, 19, 0,  3,  3, 3, 0, 20, 20, 20, 0, },
        { 0, 19, 19, 19, 19, 19, 19, 0,  3,  3, 3, 2, 20, 20, 20, 0, },
        { 0, 19, 19, 19, 19, 19, 19, 0,  3,  3, 3, 0, 20, 20, 20, 0, },
        { 0, 19, 19, 19, 19, 19, 19, 0,  3,  3, 3, 0, 20, 20, 20, 0, },
        { 0, 0,  0,  1,  0,  0,  0,  3,  3,  3, 3, 0, 0,  0,  0,  0, },
        { 0, 3,  3,  3,  3,  3,  3,  3,  3,  3, 3, 3, 3,  3,  3,  0, },
        { 0, 3,  3,  3,  3,  3,  3,  3,  3,  3, 3, 3, 3,  3,  3,  0, },
        { 0, 3,  3,  3,  3,  3,  3,  3,  3,  3, 3, 3, 3,  3,  3,  0, },
        { 0, 3,  3,  3,  3,  3,  3,  3,  3,  3, 3, 3, 0,  3,  3,  0, },
        { 0, 0,  0,  13, 0,  0,  0,  0,  0,  0, 3, 3, 3,  3,  3,  0, },
        { 0, 14, 14, 14, 14, 14, 14, 14, 14, 0, 3, 3, 3,  3,  3,  0, },
        { 0, 14, 14, 14, 14, 14, 14, 14, 14, 0, 3, 3, 3,  3,  3,  0, },
        { 0, 14, 14, 14, 14, 14, 14, 14, 14, 0, 3, 3, 3,  3,  3,  0, },
        { 0, 0,  0,  0,  0,  0,  0,  0,  0,  0, 0, 0, 0,  0,  0,  0, }
    },
    ceilings = {
        { 0, 0,  0,  0,  0,  0,  0,  0, 0, 0, 0, 0, 0,  0,  0,  0, },
        { 0, 15, 15, 15, 15, 15, 15, 0, 0, 0, 0, 0, 15, 15, 15, 0, },
        { 0, 15, 15, 15, 15, 15, 15, 0, 0, 0, 0, 0, 15, 15, 15, 0, },
        { 0, 15, 15, 15, 15, 15, 15, 0, 0, 0, 0, 2, 15, 15, 15, 0, },
        { 0, 15, 15, 15, 15, 15, 15, 0, 0, 0, 0, 0, 15, 15, 15, 0, },
        { 0, 15, 15, 15, 15, 15, 15, 0, 0, 0, 0, 0, 15, 15, 15, 0, },
        { 0, 0,  0,  2,  0,  0,  0,  0, 0, 0, 0, 0, 0,  0,  0,  0, },
        { 0, 0,  0,  0,  0,  0,  0,  0, 0, 0, 0, 0, 0,  0,  0,  0, },
        { 0, 0,  0,  0,  0,  0,  0,  0, 0, 0, 0, 0, 0,  0,  0,  0, },
        { 0, 0,  0,  0,  0,  0,  0,  0, 0, 0, 0, 0, 0,  0,  0,  0, },
        { 0, 0,  0,  0,  0,  0,  0,  0, 0, 0, 0, 0, 0,  0,  0,  0, },
        { 0, 0,  0,  2,  0,  0,  0,  0, 0, 0, 0, 0, 0,  0,  0,  0, },
        { 0, 2,  2,  2,  2,  2,  2,  2, 2, 0, 0, 0, 0,  0,  0,  0, },
        { 0, 2,  2,  2,  2,  2,  2,  2, 2, 0, 0, 0, 0,  0,  0,  0, },
        { 0, 2,  2,  2,  2,  2,  2,  2, 2, 0, 0, 0, 0,  0,  0,  0, },
        { 0, 0,  0,  0,  0,  0,  0,  0, 0, 0, 0, 0, 0,  0,  0,  0, }
    },
    events = {
        -- Opens doors by changing the texture and disabling collision
        function(map, player, x, y)
            map.walls[y][x][1] = map.walls[y][x][1] + 1 -- Open door texture will always be 1 ahead of the closed door
            map.walls[y][x][3] = false
            map.walls[y][x][4] = 0                      -- Remove the flag
        end
    }
}

return map
